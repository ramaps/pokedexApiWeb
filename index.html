<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pok√©dex Pixel Art</title>
    <link rel="stylesheet" href="css/style.css"> 
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>POK√âDEX PIXEL ART</h1>
            <div class="search-container">
                <input type="text" id="pokemonInput" placeholder="N√∫mero (1-1025) o nombre..." autocomplete="off">
                <div class="search-buttons-row">
                    <button id="searchBtn">BUSCAR</button>
                    <button id="qrBtn">ESCANEAR QR</button>
                    <button id="historyBtn">HISTORIAL</button> 
                    <button id="prevBtn">ANTERIOR</button>
                    <button id="nextBtn">SIGUIENTE</button>
                    <button id="randomBtn">ALEATORIO</button>
                </div>
            </div>
        </header>

        <div id="qrModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>ESCANEAR C√ìDIGO QR</h2>
                    <button id="closeModal" class="close-btn">&times;</button>
                </div>
                
                <div class="camera-options">
                    <button id="frontCamera" class="camera-option-btn">C√ÅMARA FRONTAL</button>
                    <button id="rearCamera" class="camera-option-btn active">C√ÅMARA TRASERA</button> 
                </div>
                
                <div class="scanner-container">
                    <div id="qrReader"></div>
                    <div class="scanner-overlay">
                        <div class="scanner-line"></div>
                    </div>
                    <div id="cameraError" class="camera-error">
                        <h3>‚ùå ERROR DE C√ÅMARA</h3>
                        <p>No se pudo acceder a la c√°mara</p>
                        <p>1. Haz clic en el √≠cono de üîí o üì∑</p>
                        <p>2. Selecciona "Permitir"</p>
                        <p>3. Recarga la p√°gina si es necesario</p>
                        <button id="retryCamera" class="retry-btn">REINTENTAR</button>
                    </div>
                </div>
                
                <div class="permission-help">
                    <p>üí° Busca el √≠cono de c√°mara en la barra de direcciones</p>
                    <p>üì± En m√≥vil: Toca "Permitir" cuando aparezca</p>
                </div>
                
                <div class="modal-instructions">
                    <p>üéØ Apunta al c√≥digo QR</p>
                    <p>üî¢ Debe contener n√∫meros del 1 al 1025</p>
                </div>
            </div>
        </div>

        <div id="historyModal" class="modal">
            <div class="modal-content history-content">
                <div class="modal-header">
                    <h2>POK√âMON ESCANEADOS</h2>
                    <button id="closeHistoryModal" class="close-btn">&times;</button>
                </div>

                <div class="history-controls">
                    <button id="exportHistoryBtn" class="control-btn">Exportar a .txt</button>
                    
                    <label for="importFile" class="control-btn">Importar de .txt</label>
                    <input type="file" id="importFile" accept=".txt" style="display: none;">
                </div>
                
                <div id="historyGrid" class="history-grid">
                    <p>Cargando historial...</p>
                </div>
            </div>
        </div>
        
        <main class="pokedex">
            <div class="pokedex-screen">
                <div class="screen-container">
                    <div class="pokemon-image">
                        <img id="pokemonSprite" src="" alt="Pok√©mon" class="pixel-art" style="display: none;">
                        <div id="loading" class="loading" style="display: none;">Cargando...</div>
                    </div>
                    
                    <div class="pokemon-info">
                        <div class="pokemon-header">
                            <h2 id="pokemonName">---</h2>
                            <span id="pokemonId" class="pokemon-id">#---</span>
                        </div>
                        
                        <div class="pokemon-types" id="pokemonTypes">
                            <span class="type-badge type-normal">---</span>
                        </div>
                        
                        <div class="pokemon-stats">
                            <div class="stat">
                                <label>ALTURA</label>
                                <span id="pokemonHeight">---</span>
                            </div>
                            <div class="stat">
                                <label>PESO</label>
                                <span id="pokemonWeight">---</span>
                            </div>
                        </div>
                        
                        <div class="pokemon-abilities">
                            <h3>HABILIDADES</h3>
                            <div id="pokemonAbilities" class="abilities-list">
                                <span class="ability">---</span>
                            </div>
                        </div>
                        
                        <div class="pokemon-stats-detailed">
                            <h3>ESTAD√çSTICAS</h3>
                            <div id="pokemonStats" class="stats-grid">
                                <div class="stat-item"><span class="stat-name">HP</span><span class="stat-value">---</span></div>
                                <div class="stat-item"><span class="stat-name">ATAQUE</span><span class="stat-value">---</span></div>
                                <div class="stat-item"><span class="stat-name">DEFENSA</span><span class="stat-value">---</span></div>
                                <div class="stat-item"><span class="stat-name">AT.ESP</span><span class="stat-value">---</span></div>
                                <div class="stat-item"><span class="stat-name">DEF.ESP</span><span class="stat-value">---</span></div>
                                <div class="stat-item"><span class="stat-name">VELOCIDAD</span><span class="stat-value">---</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="pokedex-controls">
                <div class="led-indicators">
                    <div class="led red"></div>
                    <div class="led yellow"></div>
                    <div class="led green"></div>
                </div>
                <div class="qr-hint">
                    <small>üí° Pok√©dex completa - 1025 Pok√©mon</small>
                </div>
            </div>
        </main>
        
        <div id="errorMessage" class="error-message" style="display: none;">
            Pok√©mon no encontrado
        </div>
    </div>
    
    <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
    <script src="js/script.js" type="text/javascript"></script>
</body>
</html>