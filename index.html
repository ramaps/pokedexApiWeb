<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pok√©dex Virtual con QR</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ff0000, #cc0000);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-family: 'Press Start 2P', cursive;
            color: #ffcc00;
            text-shadow: 3px 3px 0 #2a75bb, 5px 5px 0 #000;
            margin-bottom: 20px;
            font-size: 2.5em;
        }

        .search-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: center;
        }

        #pokemonInput {
            padding: 15px 20px;
            font-size: 18px;
            border: 3px solid #2a75bb;
            border-radius: 50px;
            width: 100%;
            max-width: 400px;
            text-align: center;
            font-family: 'Press Start 2P', cursive;
            font-size: 12px;
        }

        #pokemonInput:focus {
            outline: none;
            box-shadow: 0 0 10px #ffcc00;
        }

        .search-buttons-row {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        #searchBtn, #qrBtn, #prevBtn, #nextBtn {
            padding: 12px 20px;
            font-size: 12px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-family: 'Press Start 2P', cursive;
            transition: all 0.3s;
        }

        #searchBtn {
            background: #2a75bb;
            color: white;
        }

        #searchBtn:hover {
            background: #1c5a9c;
            transform: translateY(-2px);
        }

        #qrBtn {
            background: #28a745;
            color: white;
        }

        #qrBtn:hover {
            background: #218838;
            transform: translateY(-2px);
        }

        #prevBtn, #nextBtn {
            background: #ffcc00;
            color: #2a75bb;
        }

        #prevBtn:hover, #nextBtn:hover {
            background: #e6b800;
            transform: translateY(-2px);
        }

        .pokedex {
            background: #dc0a2d;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border: 8px solid #b30720;
            position: relative;
        }

        .pokedex-screen {
            background: #8bac0f;
            border: 10px solid #2a75bb;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5);
        }

        .screen-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            align-items: start;
        }

        .pokemon-image {
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            min-height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #pokemonSprite {
            max-width: 200px;
            max-height: 200px;
            filter: drop-shadow(5px 5px 5px rgba(0, 0, 0, 0.3));
        }

        .loading {
            font-family: 'Press Start 2P', cursive;
            color: #2a75bb;
            font-size: 12px;
        }

        .pokemon-info {
            color: white;
        }

        .pokemon-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #ffcc00;
        }

        #pokemonName {
            font-family: 'Press Start 2P', cursive;
            color: #ffcc00;
            font-size: 18px;
            text-transform: capitalize;
        }

        .pokemon-id {
            font-family: 'Press Start 2P', cursive;
            color: #2a75bb;
            background: white;
            padding: 5px 10px;
            border-radius: 10px;
            font-size: 14px;
        }

        .pokemon-types {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .type-badge {
            padding: 8px 15px;
            border-radius: 20px;
            font-family: 'Press Start 2P', cursive;
            font-size: 10px;
            color: white;
            text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.3);
        }

        .type-placeholder {
            color: #ccc;
            font-style: italic;
        }

        .pokemon-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
        }

        .stat {
            text-align: center;
        }

        .stat label {
            font-family: 'Press Start 2P', cursive;
            font-size: 8px;
            color: #ffcc00;
            display: block;
            margin-bottom: 5px;
        }

        .stat span {
            font-family: 'Press Start 2P', cursive;
            font-size: 12px;
            color: white;
        }

        .pokemon-abilities, .pokemon-stats-detailed {
            margin-bottom: 20px;
        }

        .pokemon-abilities h3, .pokemon-stats-detailed h3 {
            font-family: 'Press Start 2P', cursive;
            font-size: 10px;
            color: #ffcc00;
            margin-bottom: 10px;
        }

        .abilities-list {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .ability {
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 12px;
            border-radius: 15px;
            font-family: 'Press Start 2P', cursive;
            font-size: 8px;
            text-transform: capitalize;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.1);
            padding: 8px 12px;
            border-radius: 10px;
        }

        .stat-name {
            font-family: 'Press Start 2P', cursive;
            font-size: 8px;
            color: #ffcc00;
        }

        .stat-value {
            font-family: 'Press Start 2P', cursive;
            font-size: 10px;
            color: white;
        }

        .pokedex-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .led-indicators {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }

        .led {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid #333;
        }

        .led.red {
            background: #ff4444;
            box-shadow: 0 0 10px #ff4444;
        }

        .led.yellow {
            background: #ffcc00;
            box-shadow: 0 0 10px #ffcc00;
        }

        .led.green {
            background: #00ff00;
            box-shadow: 0 0 10px #00ff00;
        }

        .qr-hint {
            text-align: center;
        }

        .qr-hint small {
            font-family: 'Press Start 2P', cursive;
            font-size: 8px;
            color: #ffcc00;
        }

        .error-message {
            background: #ff4444;
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin-top: 20px;
            font-family: 'Press Start 2P', cursive;
            font-size: 10px;
            border: 3px solid #cc0000;
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: linear-gradient(135deg, #2a75bb, #1c5a9c);
            margin: 5% auto;
            padding: 0;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            border: 5px solid #ffcc00;
            box-shadow: 0 0 40px rgba(255, 204, 0, 0.5);
            position: relative;
        }

        .modal-header {
            background: #ffcc00;
            padding: 20px;
            border-radius: 15px 15px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            font-family: 'Press Start 2P', cursive;
            color: #2a75bb;
            font-size: 14px;
            margin: 0;
        }

        .close-btn {
            background: #dc0a2d;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 20px;
            cursor: pointer;
            font-family: 'Press Start 2P', cursive;
            transition: all 0.3s;
        }

        .close-btn:hover {
            background: #b30720;
            transform: scale(1.1);
        }

        .scanner-container {
            position: relative;
            padding: 20px;
            background: #000;
            min-height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #qrReader {
            width: 100%;
            max-width: 300px;
            border-radius: 10px;
            overflow: hidden;
        }

        .scanner-guide {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 200px;
            border: 3px solid #ffcc00;
            border-radius: 15px;
            pointer-events: none;
            animation: scan 2s ease-in-out infinite;
        }

        @keyframes scan {
            0%, 100% {
                box-shadow: 0 0 0 0 rgba(255, 204, 0, 0.7);
            }
            50% {
                box-shadow: 0 0 0 10px rgba(255, 204, 0, 0);
            }
        }

        .modal-instructions {
            padding: 20px;
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 0 0 15px 15px;
        }

        .modal-instructions p {
            color: white;
            font-family: 'Press Start 2P', cursive;
            font-size: 8px;
            margin: 10px 0;
            line-height: 1.5;
        }

        .permission-message {
            background: #ff6b6b;
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin-top: 20px;
            font-family: 'Press Start 2P', cursive;
            font-size: 10px;
            border: 3px solid #ff4757;
        }

        .camera-error {
            text-align: center;
            color: white;
            padding: 20px;
        }

        .camera-error h3 {
            font-family: 'Press Start 2P', cursive;
            font-size: 12px;
            margin-bottom: 15px;
            color: #ffcc00;
        }

        .camera-error ul {
            text-align: left;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 14px;
            margin: 15px 0;
        }

        .camera-error li {
            margin: 10px 0;
        }

        .retry-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Press Start 2P', cursive;
            font-size: 10px;
            margin-top: 15px;
        }

        .retry-btn:hover {
            background: #218838;
        }

        /* Colores para tipos Pok√©mon */
        .type-normal { background: #A8A878; }
        .type-fire { background: #F08030; }
        .type-water { background: #6890F0; }
        .type-electric { background: #F8D030; }
        .type-grass { background: #78C850; }
        .type-ice { background: #98D8D8; }
        .type-fighting { background: #C03028; }
        .type-poison { background: #A040A0; }
        .type-ground { background: #E0C068; }
        .type-flying { background: #A890F0; }
        .type-psychic { background: #F85888; }
        .type-bug { background: #A8B820; }
        .type-rock { background: #B8A038; }
        .type-ghost { background: #705898; }
        .type-dragon { background: #7038F8; }
        .type-dark { background: #705848; }
        .type-steel { background: #B8B8D0; }
        .type-fairy { background: #EE99AC; }

        /* Responsive */
        @media (max-width: 768px) {
            .screen-container {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .pokedex {
                padding: 15px;
            }
            
            .modal-content {
                margin: 10% auto;
                width: 95%;
            }
            
            .scanner-guide {
                width: 150px;
                height: 150px;
            }
            
            .modal-header h2 {
                font-size: 10px;
            }
            
            .search-buttons-row {
                flex-direction: column;
                align-items: center;
            }
            
            #searchBtn, #qrBtn, #prevBtn, #nextBtn {
                width: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>POK√âDEX CON QR</h1>
            <div class="search-container">
                <input type="text" id="pokemonInput" placeholder="Ingresa n√∫mero, nombre o escanea QR..." autocomplete="off">
                <div class="search-buttons-row">
                    <button id="searchBtn">BUSCAR</button>
                    <button id="qrBtn">ESCANEAR QR</button>
                    <button id="prevBtn">ANTERIOR</button>
                    <button id="nextBtn">SIGUIENTE</button>
                </div>
            </div>
        </header>

        <!-- Modal para el esc√°ner QR -->
        <div id="qrModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>ESCANEAR C√ìDIGO QR</h2>
                    <button id="closeModal" class="close-btn">&times;</button>
                </div>
                <div class="scanner-container">
                    <div id="qrReader"></div>
                    <div class="scanner-guide"></div>
                    <div id="cameraError" class="camera-error" style="display: none;">
                        <h3>ERROR DE C√ÅMARA</h3>
                        <p>No se pudo acceder a la c√°mara. Posibles soluciones:</p>
                        <ul>
                            <li>‚úÖ Aseg√∫rate de permitir el acceso a la c√°mara</li>
                            <li>‚úÖ Verifica que ninguna otra app est√© usando la c√°mara</li>
                            <li>‚úÖ Intenta en un navegador diferente</li>
                            <li>‚úÖ Revisa los permisos de tu navegador</li>
                            <li>üîí La p√°gina debe servirse por HTTPS o desde localhost</li>
                        </ul>
                        <button id="retryCamera" class="retry-btn">REINTENTAR</button>
                    </div>
                </div>
                <div class="modal-instructions">
                    <p>üì± Apunta la c√°mara hacia un c√≥digo QR con el n√∫mero de Pok√©dex</p>
                    <p>üí° El QR debe contener solo n√∫meros (ej: 25, 150, 890)</p>
                </div>
            </div>
        </div>

        <main class="pokedex">
            <div class="pokedex-screen">
                <div class="screen-container">
                    <div class="pokemon-image">
                        <img id="pokemonSprite" src="" alt="Pok√©mon" style="display: none;">
                        <div id="loading" class="loading" style="display: none;">Cargando...</div>
                    </div>
                    
                    <div class="pokemon-info">
                        <div class="pokemon-header">
                            <h2 id="pokemonName">---</h2>
                            <span id="pokemonId" class="pokemon-id">#---</span>
                        </div>
                        
                        <div class="pokemon-types" id="pokemonTypes">
                            <span class="type-placeholder">---</span>
                        </div>
                        
                        <div class="pokemon-stats">
                            <div class="stat">
                                <label>ALTURA</label>
                                <span id="pokemonHeight">---</span>
                            </div>
                            <div class="stat">
                                <label>PESO</label>
                                <span id="pokemonWeight">---</span>
                            </div>
                        </div>
                        
                        <div class="pokemon-abilities">
                            <h3>HABILIDADES</h3>
                            <div id="pokemonAbilities" class="abilities-list">
                                <span>---</span>
                            </div>
                        </div>
                        
                        <div class="pokemon-stats-detailed">
                            <h3>ESTAD√çSTICAS</h3>
                            <div id="pokemonStats" class="stats-grid">
                                <!-- Las estad√≠sticas se cargar√°n aqu√≠ -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="pokedex-controls">
                <div class="led-indicators">
                    <div class="led red"></div>
                    <div class="led yellow"></div>
                    <div class="led green"></div>
                </div>
                <div class="qr-hint">
                    <small>üí° Usa el bot√≥n "ESCANEAR QR" para buscar Pok√©mon con c√≥digos QR</small>
                </div>
            </div>
        </main>
        
        <div id="errorMessage" class="error-message" style="display: none;">
            Pok√©mon no encontrado. Intenta con otro n√∫mero, nombre o escanea un QR v√°lido.
        </div>
    </div>

    <script>
        class Pokedex {
            constructor() {
                this.currentPokemonId = 1;
                this.maxPokemonId = 1010;
                this.qrScanner = null;
                this.isScanning = false;

                this.initializeEventListeners();
                this.loadPokemon(this.currentPokemonId);
            }

            initializeEventListeners() {
                const searchBtn = document.getElementById('searchBtn');
                const qrBtn = document.getElementById('qrBtn');
                const pokemonInput = document.getElementById('pokemonInput');
                const prevBtn = document.getElementById('prevBtn');
                const nextBtn = document.getElementById('nextBtn');
                const closeModal = document.getElementById('closeModal');
                const qrModal = document.getElementById('qrModal');
                const retryCamera = document.getElementById('retryCamera');

                searchBtn.addEventListener('click', () => this.searchPokemon());
                qrBtn.addEventListener('click', () => this.openQRScanner());
                closeModal.addEventListener('click', () => this.closeQRScanner());
                retryCamera.addEventListener('click', () => this.openQRScanner());
                
                pokemonInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        this.searchPokemon();
                    }
                });
                
                prevBtn.addEventListener('click', () => this.previousPokemon());
                nextBtn.addEventListener('click', () => this.nextPokemon());

                qrModal.addEventListener('click', (e) => {
                    if (e.target === qrModal) {
                        this.closeQRScanner();
                    }
                });
            }

            async openQRScanner() {
                const modal = document.getElementById('qrModal');
                const cameraError = document.getElementById('cameraError');
                const qrReader = document.getElementById('qrReader');
                
                modal.style.display = 'block';
                cameraError.style.display = 'none';
                qrReader.style.display = 'block';
                
                // Limpiar esc√°ner anterior si existe
                if (this.qrScanner) {
                    await this.closeQRScanner();
                }
                
                try {
                    this.isScanning = true;
                    
                    this.qrScanner = new Html5Qrcode("qrReader");
                    
                    const config = {
                        fps: 10,
                        qrbox: { width: 250, height: 250 },
                        supportedScanTypes: [Html5QrcodeScanType.SCAN_TYPE_QR]
                    };

                    await this.qrScanner.start(
                        { facingMode: "environment" },
                        config,
                        this.onQRScanSuccess.bind(this),
                        this.onQRScanFailure.bind(this)
                    );
                    
                } catch (error) {
                    console.error("Error al iniciar el esc√°ner QR:", error);
                    this.showCameraError();
                }
            }

            onQRScanSuccess(decodedText) {
                if (!this.isScanning) return;
                
                console.log("QR escaneado:", decodedText);
                
                const pokemonId = parseInt(decodedText.trim());
                
                if (!isNaN(pokemonId) && pokemonId >= 1 && pokemonId <= this.maxPokemonId) {
                    this.isScanning = false;
                    
                    if (this.qrScanner) {
                        this.qrScanner.stop().then(() => {
                            this.qrScanner.clear();
                        }).catch(error => {
                            console.error("Error al detener el esc√°ner:", error);
                        });
                    }
                    
                    this.closeQRScanner();
                    this.currentPokemonId = pokemonId;
                    this.loadPokemon(pokemonId);
                    this.showScanSuccess();
                    
                } else {
                    this.showScanError("QR no v√°lido");
                }
            }

            onQRScanFailure(error) {
                // Error normal de escaneo, ignorar
            }

            async closeQRScanner() {
                this.isScanning = false;
                
                if (this.qrScanner && this.qrScanner.isScanning) {
                    try {
                        await this.qrScanner.stop();
                        this.qrScanner.clear();
                    } catch (error) {
                        console.error("Error al detener el esc√°ner:", error);
                    }
                }
                
                const modal = document.getElementById('qrModal');
                modal.style.display = 'none';
            }

            showCameraError() {
                const cameraError = document.getElementById('cameraError');
                const qrReader = document.getElementById('qrReader');
                
                cameraError.style.display = 'block';
                qrReader.style.display = 'none';
                
                if (this.qrScanner) {
                    this.qrScanner.clear();
                }
            }

            async searchPokemon() {
                const input = document.getElementById('pokemonInput').value.trim();
                if (!input) return;

                this.showLoading();

                try {
                    let pokemonId;
                    
                    if (!isNaN(input)) {
                        pokemonId = parseInt(input);
                        if (pokemonId < 1 || pokemonId > this.maxPokemonId) {
                            throw new Error('N√∫mero de Pok√©mon no v√°lido');
                        }
                    } else {
                        const response = await fetch(https://pokeapi.co/api/v2/pokemon/${input.toLowerCase()});
                        if (!response.ok) throw new Error('Pok√©mon no encontrado');
                        const data = await response.json();
                        pokemonId = data.id;
                    }

                    this.currentPokemonId = pokemonId;
                    await this.loadPokemon(pokemonId);
                    document.getElementById('pokemonInput').value = '';

                } catch (error) {
                    this.showError();
                }
            }

            async loadPokemon(id) {
                this.showLoading();

                try {
                    const response = await fetch(https://pokeapi.co/api/v2/pokemon/${id});
                    if (!response.ok) throw new Error('Pok√©mon no encontrado');
                    
                    const data = await response.json();
                    this.displayPokemon(data);
                    this.hideError();

                } catch (error) {
                    this.showError();
                }
            }

            displayPokemon(pokemon) {
                document.getElementById('pokemonName').textContent = this.capitalizeFirst(pokemon.name);
                document.getElementById('pokemonId').textContent = #${pokemon.id.toString().padStart(3, '0')};
                
                const sprite = document.getElementById('pokemonSprite');
                sprite.src = pokemon.sprites.other['official-artwork'].front_default || pokemon.sprites.front_default;
                sprite.style.display = 'block';
                
                this.displayTypes(pokemon.types);
                document.getElementById('pokemonHeight').textContent = ${(pokemon.height / 10).toFixed(1)} m;
                document.getElementById('pokemonWeight').textContent = ${(pokemon.weight / 10).toFixed(1)} kg;
                
                this.displayAbilities(pokemon.abilities);
                this.displayStats(pokemon.stats);
                
                this.hideLoading();
            }

            displayTypes(types) {
                const typesContainer = document.getElementById('pokemonTypes');
                typesContainer.innerHTML = '';

                types.forEach(typeInfo => {
                    const typeElement = document.createElement('span');
                    typeElement.className = type-badge type-${typeInfo.type.name};
                    typeElement.textContent = typeInfo.type.name.toUpperCase();
                    typesContainer.appendChild(typeElement);
                });
            }

            displayAbilities(abilities) {
                const abilitiesContainer = document.getElementById('pokemonAbilities');
                abilitiesContainer.innerHTML = '';

                abilities.forEach(abilityInfo => {
                    const abilityElement = document.createElement('span');
                    abilityElement.className = 'ability';
                    abilityElement.textContent = abilityInfo.ability.name.replace('-', ' ');
                    abilitiesContainer.appendChild(abilityElement);
                });
            }

            displayStats(stats) {
                const statsContainer = document.getElementById('pokemonStats');
                statsContainer.innerHTML = '';

                const statNames = {
                    'hp': 'HP',
                    'attack': 'ATAQUE',
                    'defense': 'DEFENSA',
                    'special-attack': 'AT. ESP.',
                    'special-defense': 'DEF. ESP.',
                    'speed': 'VELOCIDAD'
                };

                stats.forEach(stat => {
                    const statElement = document.createElement('div');
                    statElement.className = 'stat-item';
                    
                    const statName = document.createElement('span');
                    statName.className = 'stat-name';
                    statName.textContent = statNames[stat.stat.name];
                    
                    const statValue = document.createElement('span');
                    statValue.className = 'stat-value';
                    statValue.textContent = stat.base_stat;
                    
                    statElement.appendChild(statName);
                    statElement.appendChild(statValue);
                    statsContainer.appendChild(statElement);
                });
            }

            previousPokemon() {
                if (this.currentPokemonId > 1) {
                    this.currentPokemonId--;
                    this.loadPokemon(this.currentPokemonId);
                }
            }

            nextPokemon() {
                if (this.currentPokemonId < this.maxPokemonId) {
                    this.currentPokemonId++;
                    this.loadPokemon(this.currentPokemonId);
                }
            }

            showLoading() {
                document.getElementById('loading').style.display = 'block';
                document.getElementById('pokemonSprite').style.display = 'none';
            }

            hideLoading() {
                document.getElementById('loading').style.display = 'none';
            }

            showError() {
                document.getElementById('errorMessage').style.display = 'block';
                this.hideLoading();
            }

            hideError() {
                document.getElementById('errorMessage').style.display = 'none';
            }

            showScanSuccess() {
                const pokedex = document.querySelector('.pokedex');
                pokedex.style.boxShadow = '0 0 30px #28a745';
                setTimeout(() => {
                    pokedex.style.boxShadow = '0 20px 40px rgba(0, 0, 0, 0.3)';
                }, 1000);
            }

            showScanError(message) {
                console.log("Error de escaneo:", message);
            }

            capitalizeFirst(string) {
                return string.charAt(0).toUpperCase() + string.slice(1);
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            new Pokedex();
        });
    </script>
</body>
</html>